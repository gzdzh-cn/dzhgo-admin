import{v as e}from"./@vue.runtime-dom-0c977c95.js";import{u as l}from"./index-c06e60a9.js";import"./vue-echarts-11c03c89.js";import{a,f as o}from"./element-plus-961823fe.js";import"./store-52839c99.js";import"./index-4d43d044.js";import{B as t,a5 as d,A as u}from"./@element-plus.icons-vue-15072d5d.js";import{f as s,A as i,h as r,a5 as m,o as p,c,g as n,W as v,_ as b,X as j,a as f,F as V,a3 as h}from"./@vue.runtime-core-dd57a9c9.js";import{r as y,h as _,M as g}from"./@vue.reactivity-9aee8bf6.js";import"./@vue.shared-dddd31b8.js";import"./vue-router-17136280.js";import"./monaco-editor-c28fb00f.js";import"./axios-6b2fb661.js";import"./array.prototype.flat-eee42aa4.js";import"./define-properties-b1343066.js";import"./object-keys-e5f060db.js";import"./has-property-descriptors-6845433e.js";import"./get-intrinsic-cff09dfa.js";import"./has-symbols-a48c7173.js";import"./function-bind-cd5d7d08.js";import"./has-3a5c7287.js";import"./call-bind-cfba7623.js";import"./es-abstract-253c30b8.js";import"./has-proto-93b28181.js";import"./gopd-1516b43e.js";import"./is-regex-74a42cfc.js";import"./has-tostringtag-ad4fd641.js";import"./is-callable-99eeba16.js";import"./object-inspect-66cad57c.js";import"./es-to-primitive-6664914a.js";import"./is-date-object-d2231eea.js";import"./is-symbol-3a29a1ce.js";import"./safe-regex-test-183ad494.js";import"./es-shim-unscopables-89146e87.js";import"./nprogress-64657d8f.js";import"./lodash-es-8394daf0.js";import"./@vueuse.core-3c960f69.js";import"./@vueuse.shared-2b88397c.js";import"./pinia-efddbf44.js";import"./vue-demi-71ba0ef2.js";import"./mockjs-0b3ee9ca.js";import"./merge-4bdec194.js";import"./mitt-2d52b530.js";import"./clone-deep-53153407.js";import"./shallow-clone-d419fbda.js";import"./kind-of-d78bf752.js";import"./is-plain-object-40c8282f.js";import"./isobject-c886ab54.js";import"./resize-detector-2312ef2b.js";import"./echarts-e550b62f.js";import"./tslib-a4e99503.js";import"./zrender-f72fb7be.js";import"./@ctrl.tinycolor-d9b9bf03.js";import"./@popperjs.core-b696b006.js";import"./dayjs-89173748.js";import"./async-validator-ff95bfc9.js";import"./memoize-one-63ab667a.js";import"./escape-html-1935ddb3.js";import"./normalize-wheel-es-3222b0a2.js";import"./@floating-ui.dom-92665be4.js";import"./@floating-ui.core-c1b3624a.js";const U={class:"view-my"},x={class:"box-con"},k={class:"box-list"},K={class:"box-col"},N={style:{padding:"10px 0 10px 0"}},w={class:"del"},A={class:"add"},I=s({name:"common-setting"}),T=s({...I,setup(s){const{service:I}=l(),T=y([1,2]),z=y(!1),C=y(),M=y([{contactName:"",imgUrl:""}]),S=()=>{M.value.push({contactName:"",imgUrl:""})},L=e=>{M.value[M.value.length-1].imgUrl=e.url,z.value=!1,C.value.close()},P=y(0);i((()=>M.value),(e=>{}),{immediate:!0,deep:!0});const B=y({sitename:"",notic:"",image:"",contact:"",mobile:"",gpt4:0,contactList:[]});_({active:1,inactiv:0});const F=()=>{z.value=!1,B.value.contactList=M.value,I.cms.setting.update({id:1,...B.value}).then((()=>{a.success("更新成功")}))};return r((()=>{(async()=>{B.value=await I.cms.setting.info({id:1}),M.value=B.value.contactList?JSON.parse(B.value.contactList):M.value})()})),(l,s)=>{const i=m("el-input"),r=m("el-form-item"),y=m("cl-upload"),_=m("el-form"),I=m("el-tab-pane"),J=m("el-radio"),W=m("el-radio-group"),X=m("el-button"),q=m("el-card"),D=m("el-tabs");return p(),c("div",U,[n(D,{type:"border-card"},{default:v((()=>[n(I,{label:"基本信息"},{default:v((()=>[n(_,{class:"card-form","label-width":"160px",model:B.value,disabled:z.value},{default:v((()=>[n(r,{label:"站点名称"},{default:v((()=>[n(i,{modelValue:B.value.sitename,"onUpdate:modelValue":s[0]||(s[0]=e=>B.value.sitename=e),placeholder:"请填写站点名称",clearable:""},null,8,["modelValue"])])),_:1}),n(r,{label:"明信片"},{default:v((()=>[n(y,{modelValue:B.value.image,"onUpdate:modelValue":s[1]||(s[1]=e=>B.value.image=e),text:"明信片",type:"image"},null,8,["modelValue"])])),_:1}),n(r,{label:"联系人"},{default:v((()=>[n(i,{modelValue:B.value.contact,"onUpdate:modelValue":s[2]||(s[2]=e=>B.value.contact=e),placeholder:"请填写联系人",clearable:""},null,8,["modelValue"])])),_:1}),n(r,{label:"手机号码"},{default:v((()=>[n(i,{modelValue:B.value.mobile,"onUpdate:modelValue":s[3]||(s[3]=e=>B.value.mobile=e),placeholder:"请填写手机号码",clearable:""},null,8,["modelValue"])])),_:1})])),_:1},8,["model","disabled"])])),_:1}),n(I,{label:"支付"},{default:v((()=>[n(_,{class:"card-form","label-width":"160px",model:B.value,disabled:z.value},{default:v((()=>[n(r,{label:"模式"},{default:v((()=>[n(W,{modelValue:B.value.payType,"onUpdate:modelValue":s[4]||(s[4]=e=>B.value.payType=e),class:"ml-4"},{default:v((()=>[n(J,{label:T.value[0],size:"large"},{default:v((()=>[b(" 普通商户模式 ")])),_:1},8,["label"]),n(J,{label:T.value[1],size:"large"},{default:v((()=>[b(" 服务商模式 ")])),_:1},8,["label"])])),_:1},8,["modelValue"])])),_:1}),j(f("div",null,[n(r,{label:"普通商户号"},{default:v((()=>[n(i,{modelValue:B.value.mchId,"onUpdate:modelValue":s[5]||(s[5]=e=>B.value.mchId=e),placeholder:"请填写普通商户号",clearable:""},null,8,["modelValue"])])),_:1}),n(r,{label:"普通商户appid"},{default:v((()=>[n(i,{modelValue:B.value.appid,"onUpdate:modelValue":s[6]||(s[6]=e=>B.value.appid=e),placeholder:"请填写普通商户appid",clearable:""},null,8,["modelValue"])])),_:1}),n(r,{label:"收款商户v3密钥"},{default:v((()=>[n(i,{modelValue:B.value.cAPIv3Key,"onUpdate:modelValue":s[7]||(s[7]=e=>B.value.cAPIv3Key=e),placeholder:"请填写收款商户v3密钥",clearable:""},null,8,["modelValue"])])),_:1}),n(r,{label:"序列号"},{default:v((()=>[n(i,{modelValue:B.value.cSerialNo,"onUpdate:modelValue":s[8]||(s[8]=e=>B.value.cSerialNo=e),placeholder:"请填写序列号",clearable:""},null,8,["modelValue"])])),_:1})],512),[[e,1==B.value.payType]]),j(f("div",null,[n(r,{label:"服务商商户号"},{default:v((()=>[n(i,{modelValue:B.value.spMchid,"onUpdate:modelValue":s[9]||(s[9]=e=>B.value.spMchid=e),placeholder:"请填写服务商商户号",clearable:""},null,8,["modelValue"])])),_:1}),n(r,{label:"服务商appid"},{default:v((()=>[n(i,{modelValue:B.value.spAppid,"onUpdate:modelValue":s[10]||(s[10]=e=>B.value.spAppid=e),placeholder:"请填写服务商appid",clearable:""},null,8,["modelValue"])])),_:1}),n(r,{label:"特约商户"},{default:v((()=>[n(i,{modelValue:B.value.subMchId,"onUpdate:modelValue":s[11]||(s[11]=e=>B.value.subMchId=e),placeholder:"请填写特约商户",clearable:""},null,8,["modelValue"])])),_:1}),n(r,{label:"收款商户v3密钥"},{default:v((()=>[n(i,{modelValue:B.value.aPIv3Key,"onUpdate:modelValue":s[12]||(s[12]=e=>B.value.aPIv3Key=e),placeholder:"请填写收款商户v3密钥",clearable:""},null,8,["modelValue"])])),_:1}),n(r,{label:"序列号"},{default:v((()=>[n(i,{modelValue:B.value.serialNo,"onUpdate:modelValue":s[13]||(s[13]=e=>B.value.serialNo=e),placeholder:"请填写序列号",clearable:""},null,8,["modelValue"])])),_:1})],512),[[e,2==B.value.payType]]),n(r,{label:"支付回调地址"},{default:v((()=>[n(i,{modelValue:B.value.notifyUrl,"onUpdate:modelValue":s[14]||(s[14]=e=>B.value.notifyUrl=e),placeholder:"请填写支付回调地址",clearable:""},null,8,["modelValue"])])),_:1})])),_:1},8,["model","disabled"])])),_:1}),n(I,{label:"翻译"},{default:v((()=>[n(_,{class:"card-form","label-width":"160px",model:B.value,disabled:z.value},{default:v((()=>[n(r,{label:"百度apiKey"},{default:v((()=>[n(i,{modelValue:B.value.baiduTranApiKey,"onUpdate:modelValue":s[15]||(s[15]=e=>B.value.baiduTranApiKey=e),placeholder:"请填写百度apiKey",clearable:""},null,8,["modelValue"])])),_:1}),n(r,{label:"百度secretKey"},{default:v((()=>[n(i,{modelValue:B.value.baiduTranSecretKey,"onUpdate:modelValue":s[16]||(s[16]=e=>B.value.baiduTranSecretKey=e),placeholder:"请填写百度secretKey",clearable:""},null,8,["modelValue"])])),_:1})])),_:1},8,["model","disabled"])])),_:1}),n(I,{label:"客服"},{default:v((()=>[f("div",x,[f("div",k,[(p(!0),c(V,null,h(M.value,((e,l)=>(p(),c("div",{class:"box-item",key:l},[n(q,{style:{"margin-bottom":"30px"}},{default:v((()=>[f("div",K,[n(i,{modelValue:e.contactName,"onUpdate:modelValue":l=>e.contactName=l,placeholder:"请填写客服名称",clearable:""},null,8,["modelValue","onUpdate:modelValue"]),f("div",N,[n(y,{text:"选择图片",modelValue:e.imgUrl,"onUpdate:modelValue":l=>e.imgUrl=l,onSuccess:L},{default:v((()=>[n(X,{icon:g(d),onClick:e=>(e=>{C.value=o.service({lock:!0,text:"上传中",background:"rgba(0, 0, 0, 0.7)"}),z.value=!0,P.value=e})(l)},{default:v((()=>[b("上传")])),_:2},1032,["icon","onClick"])])),_:2},1032,["modelValue","onUpdate:modelValue"])]),f("div",w,[n(X,{type:"danger",icon:g(u),onClick:e=>(e=>{1==M.value.length?a.warning("至少保留一个"):M.value.splice(e,1)})(l)},{default:v((()=>[b("删除")])),_:2},1032,["icon","onClick"])])])])),_:2},1024)])))),128))]),f("div",A,[n(X,{type:"info",icon:g(t),onClick:S},{default:v((()=>[b("增加一个")])),_:1},8,["icon"])])])])),_:1}),n(r,null,{default:v((()=>[n(X,{type:"primary",disabled:z.value,onClick:F},{default:v((()=>[b("保存修改")])),_:1},8,["disabled"])])),_:1})])),_:1})])}}});export{T as default};
