import{i as e}from"./index.umd.min-b68308bb.js";import{u as t}from"./index-c06e60a9.js";import"./vue-echarts-11c03c89.js";import{e as o}from"./element-plus-961823fe.js";import"./store-52839c99.js";import"./index-4d43d044.js";import{f as l,a5 as r,o as a,V as s,W as p,g as i,a as m}from"./@vue.runtime-core-dd57a9c9.js";import{ak as n}from"./@vue.shared-dddd31b8.js";import"./array.prototype.flat-eee42aa4.js";import"./define-properties-b1343066.js";import"./object-keys-e5f060db.js";import"./has-property-descriptors-6845433e.js";import"./get-intrinsic-cff09dfa.js";import"./has-symbols-a48c7173.js";import"./function-bind-cd5d7d08.js";import"./has-3a5c7287.js";import"./call-bind-cfba7623.js";import"./es-abstract-253c30b8.js";import"./has-proto-93b28181.js";import"./gopd-1516b43e.js";import"./is-regex-74a42cfc.js";import"./has-tostringtag-ad4fd641.js";import"./is-callable-99eeba16.js";import"./object-inspect-66cad57c.js";import"./es-to-primitive-6664914a.js";import"./is-date-object-d2231eea.js";import"./is-symbol-3a29a1ce.js";import"./safe-regex-test-183ad494.js";import"./es-shim-unscopables-89146e87.js";import"./vue-6d1d317a.js";import"./@vue.runtime-dom-0c977c95.js";import"./@vue.reactivity-9aee8bf6.js";import"./vue-router-17136280.js";import"./monaco-editor-c28fb00f.js";import"./axios-6b2fb661.js";import"./nprogress-64657d8f.js";import"./lodash-es-8394daf0.js";import"./@vueuse.core-3c960f69.js";import"./@vueuse.shared-2b88397c.js";import"./pinia-efddbf44.js";import"./vue-demi-71ba0ef2.js";import"./mockjs-0b3ee9ca.js";import"./merge-4bdec194.js";import"./mitt-2d52b530.js";import"./clone-deep-53153407.js";import"./shallow-clone-d419fbda.js";import"./kind-of-d78bf752.js";import"./is-plain-object-40c8282f.js";import"./isobject-c886ab54.js";import"./@element-plus.icons-vue-15072d5d.js";import"./resize-detector-2312ef2b.js";import"./echarts-e550b62f.js";import"./tslib-a4e99503.js";import"./zrender-f72fb7be.js";import"./@ctrl.tinycolor-d9b9bf03.js";import"./@popperjs.core-b696b006.js";import"./dayjs-89173748.js";import"./async-validator-ff95bfc9.js";import"./memoize-one-63ab667a.js";import"./escape-html-1935ddb3.js";import"./normalize-wheel-es-3222b0a2.js";import"./@floating-ui.dom-92665be4.js";import"./@floating-ui.core-c1b3624a.js";const c={style:{padding:"0 30px"}},u=l({name:"customer_pro-api"}),j=l({...u,setup(l){const{service:u}=t(),j=e.useUpsert({items:[{label:"账号名称",prop:"name",required:!0,component:{name:"el-input"}},{label:"账户编号",prop:"account",component:{name:"el-input"}},{label:"接入平台",prop:"platform",component:{name:"el-select",options:[{label:"手动录入",value:1},{label:"百度",value:2},{label:"抖音",value:3},{label:"53客服",value:4},{label:"小红书",value:5}]}},{label:"token",prop:"token",component:{name:"el-input"}},{label:"所属项目",prop:"projectId",component:{name:"el-select"}},{label:"分配方式",prop:"allot_type",value:1,component:{name:"el-select",options:[{label:"不分配",value:0},{label:"按顺序分配",value:1},{label:"随机分配",value:2}]}},{label:"备注",prop:"remark",component:{name:"el-input",props:{type:"textarea",rows:4}}},{label:"状态",prop:"status",value:1,component:{name:"el-switch",props:{activeValue:1,inactiveValue:0,activeText:"激活",inactiveText:"关闭",inlinePrompt:!0}}}],async onOpen(){var e;const t=await u.customer_pro.project.list();if(0==t.length)return void o.alert("请先到左侧栏目：院校管理 >> 项目管理，添加项目","警告",{confirmButtonText:"OK",callback:()=>{var e;null==(e=j.value)||e.close()}});null==(e=j.value)||e.setOptions("projectId",t.map((e=>({label:e.name,value:e.id}))));0!=(await u.customer_pro.kf.list()).length||o.alert("请先到左侧栏目：院校管理 >> 项目管理 >> 客服列表，添加客服成员","警告",{confirmButtonText:"OK",callback:()=>{var e;null==(e=j.value)||e.close()}})}}),b=e.useTable({columns:[{type:"selection"},()=>({label:"#",type:"expand",prop:"detail"}),{label:"账号名称",prop:"name"},{label:"账户编号",prop:"account"},{label:"接入平台",prop:"platform",dict:[{label:"手动录入",value:1},{label:"百度",value:2},{label:"抖音",value:3},{label:"53客服",value:4},{label:"小红书",value:5}]},{label:"所属项目",prop:"projectName"},{label:"分配方式",prop:"allotType",dict:[{label:"不分配",value:0},{label:"按顺序分配",value:1},{label:"随机分配",value:2}]},{label:"下次分配",prop:"userName"},{label:"接收线索",prop:"status",component:{name:"cl-switch",props:{activeValue:1,inactiveValue:0,activeText:"接收",inactiveText:"禁止",inlinePrompt:!0}}},{label:"创建时间",prop:"createTime"},{type:"op",buttons:["edit","delete"]}]}),v=e.useCrud({service:u.customer_pro.api},(e=>{e.refresh()}));return(e,t)=>{const o=r("cl-refresh-btn"),l=r("cl-add-btn"),u=r("cl-multi-delete-btn"),d=r("cl-flex1"),f=r("cl-search-key"),y=r("cl-row"),h=r("cl-table"),x=r("cl-pagination"),g=r("cl-upsert"),k=r("cl-crud");return a(),s(k,{ref_key:"Crud",ref:v},{default:p((()=>[i(y,null,{default:p((()=>[i(o),i(l),i(u),i(d),i(f)])),_:1}),i(y,null,{default:p((()=>[i(h,{ref_key:"Table",ref:b,border:!1},{"column-detail":p((({scope:e})=>{var t;return[m("div",c,[m("p",null,"分配列表: "+n(null==(t=e.row)?void 0:t.allotServicesNames),1)])]})),_:1},512)])),_:1}),i(y,null,{default:p((()=>[i(d),i(x)])),_:1}),i(g,{ref_key:"Upsert",ref:j},null,512)])),_:1},512)}}});export{j as default};
