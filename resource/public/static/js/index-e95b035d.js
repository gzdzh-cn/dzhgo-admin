import{i as e}from"./index.umd.min-b68308bb.js";import{A as o,E as t}from"./lodash-es-8394daf0.js";import{a as s}from"./element-plus-961823fe.js";import{f as i,A as r,g as a,a5 as m}from"./@vue.runtime-core-dd57a9c9.js";import{r as p}from"./@vue.reactivity-9aee8bf6.js";import"./array.prototype.flat-eee42aa4.js";import"./define-properties-b1343066.js";import"./object-keys-e5f060db.js";import"./has-property-descriptors-6845433e.js";import"./get-intrinsic-cff09dfa.js";import"./has-symbols-a48c7173.js";import"./function-bind-cd5d7d08.js";import"./has-3a5c7287.js";import"./call-bind-cfba7623.js";import"./es-abstract-253c30b8.js";import"./has-proto-93b28181.js";import"./gopd-1516b43e.js";import"./is-regex-74a42cfc.js";import"./has-tostringtag-ad4fd641.js";import"./is-callable-99eeba16.js";import"./object-inspect-66cad57c.js";import"./es-to-primitive-6664914a.js";import"./is-date-object-d2231eea.js";import"./is-symbol-3a29a1ce.js";import"./safe-regex-test-183ad494.js";import"./es-shim-unscopables-89146e87.js";import"./vue-6d1d317a.js";import"./@vue.runtime-dom-0c977c95.js";import"./@vue.shared-dddd31b8.js";import"./@vueuse.core-3c960f69.js";import"./@vueuse.shared-2b88397c.js";import"./@element-plus.icons-vue-15072d5d.js";import"./@ctrl.tinycolor-d9b9bf03.js";import"./@popperjs.core-b696b006.js";import"./dayjs-89173748.js";import"./async-validator-ff95bfc9.js";import"./memoize-one-63ab667a.js";import"./escape-html-1935ddb3.js";import"./normalize-wheel-es-3222b0a2.js";import"./@floating-ui.dom-92665be4.js";import"./@floating-ui.core-c1b3624a.js";const l=i({name:"cl-switch",props:{scope:null,column:null,modelValue:[Number,String,Boolean],api:Function,activeValue:{type:[Number,String,Boolean],default:!0},inactiveValue:{type:[Number,String,Boolean],default:!1}},emits:["update:modelValue","change"],setup(i,{emit:l}){const u=e.useCrud(),n=p();function c(e){var t;if(i.column&&i.scope){const r={...i.scope,[i.column.property]:e},a=o(i.api)?i.api(r):null==(t=u.value)?void 0:t.service.update(r);a&&a.then((()=>{s.success("更新成功"),l("update:modelValue",e),l("change",e)})).catch((e=>{s.error(e.message)}))}else l("update:modelValue",e),l("change",e)}return r((()=>i.modelValue),(e=>{t(i.activeValue)?n.value=Boolean(e):n.value=e}),{immediate:!0}),()=>a(m("el-switch"),{modelValue:n.value,"onUpdate:modelValue":e=>n.value=e,"active-value":i.activeValue,"inactive-value":i.inactiveValue,onChange:c},null)}});export{l as default};
